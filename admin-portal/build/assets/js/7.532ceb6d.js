/*! Copyright by frank */
webpackJsonp([7],{349:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function l(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,u,c,d,f=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),p=t(2),A=o(p),m=t(88),g=t(6),h=o(g),b=t(359),C=o(b),x=t(358),y=o(x),v=t(372),B=t(357);t(373);var k=(s=(0,m.connect)(function(e){return{login:e.login,loadingError:e.loadingError}},function(e){return{doLoginFunc:function(n,t){e((0,v.doLogin)(n,t))},clearErrorMsgFunc:function(){e((0,B.clearErrorMsg)())}}}))((d=c=function(e){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleLogin=t.handleLogin.bind(t),t.handelChange=t.handelChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.state={usernameField:{value:"admin",error:""},passwordField:{value:"admin",error:""}},t}return l(n,e),f(n,[{key:"componentDidMount",value:function(){JSON.parse(window.localStorage.getItem("current_user"))&&this.props.history.push("/")}},{key:"handleLogin",value:function(){if(this.validateAndSet("usernameField",this.state.usernameField.value)&&this.validateAndSet("passwordField",this.state.passwordField.value)){var e=this.state,n=e.usernameField,t=e.passwordField;this.props.doLoginFunc(n.value,t.value)}}},{key:"handleKeyDown",value:function(e){13===e.keyCode&&this.handleLogin()}},{key:"validateAndSet",value:function(e,n){var t="";return n?"usernameField"===e?(n.length<3||n.length>60)&&(t="用户名长度为3-60"):"passwordField"===e&&(n.length<5||n.length>60)&&(t="密码长度为5-60"):t="不能为空",this.setState(r({},e,{value:n,error:t})),!t}},{key:"handelChange",value:function(e,n){var t=n.target.value;this.validateAndSet(e,t)}},{key:"render",value:function(){var e=this,n=this.props.loadingError,t=n.isLoading,o=n.errorMsg,r=this.state,a=r.usernameField,i=r.passwordField,l=a.value,s=i.value,u=a.error,c=i.error;return A.default.createElement("div",{className:"container"},A.default.createElement("h1",null,"后台管理系统"),o&&A.default.createElement(y.default,{onOk:function(){return e.props.clearErrorMsgFunc()},onCancel:function(){return e.props.clearErrorMsgFunc()},title:"对话框",visible:!!o},A.default.createElement("p",null,o)),t&&A.default.createElement(C.default,{isFull:!0}),A.default.createElement("div",{className:"form-item"},A.default.createElement("input",{type:"text",value:l,onChange:function(n){return e.handelChange("usernameField",n)},onKeyDown:this.handleKeyDown,placeholder:"用户名",className:u?"error":""}),u&&A.default.createElement("div",{className:"form-error"},u)),A.default.createElement("div",{className:"form-item"},A.default.createElement("input",{type:"password",value:s,onChange:function(n){return e.handelChange("passwordField",n)},onKeyDown:this.handleKeyDown,placeholder:"密码",className:c?"error":""}),c&&A.default.createElement("div",{className:"form-error"},c)),A.default.createElement("div",{className:"form-item mt20"},A.default.createElement("button",{type:"submit",onClick:this.handleLogin,className:"btn"},"登录")))}}]),n}(p.Component),c.propTypes={login:h.default.object,loadingError:h.default.object,doLoginFunc:h.default.func},u=d))||u;n.default=k},357:function(e,n,t){"use strict";function o(){return{type:l.SHOW_LOADING}}function r(){return{type:l.HIDE_LOADING}}function a(e){return{type:l.SET_ERROR_MESSAGE,message:e}}function i(){return{type:l.CLAER_ERROR_MESSAGE}}Object.defineProperty(n,"__esModule",{value:!0}),n.showLoading=o,n.hideLoading=r,n.setErrorMsg=a,n.clearErrorMsg=i;var l=t(153)},358:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),l=t(2),s=function(e){return e&&e.__esModule?e:{default:e}}(l);t(362);var u=function(e){function n(e){o(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={confirmLoading:!1},t.onOk=t.onOk.bind(t),t.onCancel=t.onCancel.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t}return a(n,e),i(n,[{key:"componentDidMount",value:function(){var e=this;this.modalContentRef.focus(),this.maskRef.onclick=function(){e.onCancel()}}},{key:"handleKeyDown",value:function(e){console.log("keydown"),27===e.keyCode&&this.onCancel()}},{key:"onOk",value:function(){if(!this.props.confirmLoading){var e=this.props.onOk;"function"==typeof e&&e()}}},{key:"onCancel",value:function(){var e=this.props.onCancel;"function"==typeof e&&e()}},{key:"render",value:function(){var e=this,n=this.props,t=n.title,o=n.children,r=this.props,a=r.visible,i=r.confirmLoading;return t=t||"提示",s.default.createElement("div",{className:"modal-box "+(a?"":"hide")},s.default.createElement("div",{className:"modal-mask",ref:function(n){return e.maskRef=n}}),s.default.createElement("div",{className:"modal-content",ref:function(n){return e.modalContentRef=n},tabIndex:"0",onKeyDown:this.handleKeyDown},s.default.createElement("div",{className:"modal-header"},t,s.default.createElement("i",{onClick:this.onCancel,className:"right"},"x")),s.default.createElement("div",{className:"modal-body"},o),s.default.createElement("div",{className:"modal-footer"},s.default.createElement("button",{onClick:this.onCancel,className:"btn default mr10"},"取消"),s.default.createElement("button",{onClick:this.onOk,className:"btn "+(i?"disabled":"")},"确定"))))}}]),n}(l.Component);n.default=u},359:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),l=t(2),s=function(e){return e&&e.__esModule?e:{default:e}}(l);t(360);var u=function(e){function n(e){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return a(n,e),i(n,[{key:"render",value:function(){return s.default.createElement("div",{className:"loading-container "+(this.props.isFull?"is-full":"")},s.default.createElement("div",{className:"loading-mask"}),s.default.createElement("div",{className:"loading-box"},s.default.createElement("span",null),s.default.createElement("span",null),s.default.createElement("span",null),s.default.createElement("span",null)))}}]),n}(l.Component);n.default=u},360:function(e,n,t){var o=t(361);"string"==typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;t(347)(o,r);o.locals&&(e.exports=o.locals)},361:function(e,n,t){n=e.exports=t(346)(!0),n.push([e.i,".loading-container{position:fixed;left:260px;top:60px;right:0;bottom:0;z-index:9999}.loading-container.is-full,.loading-mask{left:0;top:0;right:0;bottom:0}.loading-mask{position:absolute;background-color:hsla(0,0%,100%,.7)}.loading-box{position:absolute;left:50%;top:50%;display:inline-block;width:22px;height:22px;-webkit-animation:autoRotate 1.2s infinite linear;animation:autoRotate 1.2s infinite linear;-webkit-transform-origin:50% 50%;transform-origin:50% 50%}.loading-box span{position:absolute;width:10px;height:10px;border-radius:50%;background-color:#1890ff}.loading-box span:first-child{left:0;top:0}.loading-box span:nth-child(2){left:12px;top:0;opacity:.9}.loading-box span:nth-child(3){left:0;top:12px;opacity:.6}.loading-box span:nth-child(4){left:12px;top:12px;opacity:.3}@-webkit-keyframes autoRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes autoRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}","",{version:3,sources:["/Users/wuyirong/self/kkfrank.github.io/admin-portal/src/components/Loading/Loading.scss"],names:[],mappings:"AAAA,mBACE,eACA,WACA,SACA,QACA,SACA,YAAa,CANf,AAYG,yCAJC,OACA,MACA,QACA,QAAS,CAUZ,AATE,cAGD,kBACA,AAIA,mCAAsC,CACvC,aAEC,kBACA,SACA,QACA,qBACA,WACA,YACA,kDAAA,0CACA,iCAAA,wBAAyB,CAR3B,kBAUI,kBACA,WACA,YACA,kBACA,wBAAyB,CAd7B,8BAgBM,OACA,KAAM,CAjBZ,+BAoBM,UACA,MACA,UAAW,CAtBjB,+BAyBM,OACA,SACA,UAAW,CA3BjB,+BA8BM,UACA,SACA,UAAW,CACZ,8BAKH,GACE,+BAAA,sBAAuB,CAEzB,GACE,gCAAA,uBAAyB,CAAA,CATxB,sBAKH,GACE,+BAAA,sBAAuB,CAEzB,GACE,gCAAA,uBAAyB,CAAA,CAAA",file:"Loading.scss",sourcesContent:[".loading-container{\n  position: fixed;\n  left: 260px;\n  top: 60px;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  &.is-full{\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n  }\n}\n.loading-mask{\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255,255,255,.7);\n}\n.loading-box{\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  animation: autoRotate 1.2s infinite linear;\n  transform-origin: 50% 50%;\n  span{\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    background-color: #1890ff;\n    &:nth-child(1){\n      left: 0;\n      top: 0;\n    }\n    &:nth-child(2){\n      left: 12px;\n      top: 0;\n      opacity: .9;\n    }\n    &:nth-child(3){\n      left: 0;\n      top: 12px;\n      opacity: .6;\n    }\n    &:nth-child(4){\n      left: 12px;\n      top: 12px;\n      opacity: .3;\n    }\n  }\n}\n\n@keyframes autoRotate{\n  0%{\n    transform: rotate(0deg);\n  }\n  100%{\n    transform: rotate(360deg);\n  }\n}"],sourceRoot:""}])},362:function(e,n,t){var o=t(363);"string"==typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;t(347)(o,r);o.locals&&(e.exports=o.locals)},363:function(e,n,t){n=e.exports=t(346)(!0),n.push([e.i,".modal-box{position:fixed;z-index:9999}.modal-box .modal-mask{position:fixed;top:0;right:0;bottom:0;left:0;height:100%;background-color:rgba(0,0,0,.45)}.modal-box .modal-content{position:fixed;left:50%;top:50%;min-width:280px;max-width:500px;background-color:#fff;border-radius:4px;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15);margin-top:-100px;-webkit-transform:translate(-50%);transform:translate(-50%);outline:0}.modal-box .modal-header{padding:16px 24px;border-bottom:1px solid #e8e8e8}.modal-box .modal-header i{cursor:pointer;position:absolute;right:0;top:0;padding:10px 18px;font-size:20px}.modal-box .modal-body{padding:24px}.modal-box .modal-footer{padding:10px 16px;text-align:right}","",{version:3,sources:["/Users/wuyirong/self/kkfrank.github.io/admin-portal/src/components/Modal/Index.scss"],names:[],mappings:"AAAA,WACE,eACA,YAAa,CAFf,uBAII,eACA,MACA,QACA,SACA,OACA,YACA,gCAAkC,CAVtC,0BAaI,eACA,SACA,QACA,gBACA,gBACA,sBACA,kBACA,8CAAA,sCACA,kBACA,kCAAA,0BACA,SAAU,CAvBd,yBA0BI,kBACA,+BAAgC,CA3BpC,2BA6BM,eACA,kBACA,QACA,MACA,kBACA,cAAe,CAlCrB,uBAsCI,YAAa,CAtCjB,yBAyCI,kBACA,gBAAiB,CAClB",file:"Index.scss",sourcesContent:[".modal-box{\n  position: fixed;\n  z-index: 9999;\n  .modal-mask{\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    height: 100%;\n    background-color: rgba(0,0,0,0.45);\n  }\n  .modal-content{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    min-width: 280px;\n    max-width: 500px;\n    background-color: #fff;\n    border-radius: 4px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    margin-top: -100px;\n    transform: translate(-50%);\n    outline: 0;\n  }\n  .modal-header{\n    padding: 16px 24px;\n    border-bottom: 1px solid #e8e8e8;\n    i{\n      cursor: pointer;\n      position: absolute;\n      right: 0;\n      top: 0;\n      padding: 10px 18px;\n      font-size: 20px;\n    }\n  }\n  .modal-body{\n    padding: 24px;\n  }\n  .modal-footer{\n    padding: 10px 16px;\n    text-align: right;\n  }\n}"],sourceRoot:""}])},372:function(e,n,t){"use strict";function o(e,n){return function(t,o){t((0,l.showLoading)()),a.default.post("/manage/user/login.do",null,{username:e,password:n}).then(function(e){window.localStorage.setItem("current_user",JSON.stringify(e.data)),t({type:i.LOGIN_SUCCESS,user:e.data}),u.push("/")}).catch(function(e){t((0,l.setErrorMsg)(e.message))})}}Object.defineProperty(n,"__esModule",{value:!0}),n.doLogin=o;var r=t(152),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=(t(89),t(155)),l=t(357),s=t(14),u=(0,s.createHashHistory)()},373:function(e,n,t){var o=t(374);"string"==typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;t(347)(o,r);o.locals&&(e.exports=o.locals)},374:function(e,n,t){n=e.exports=t(346)(!0),n.push([e.i,".container{width:300px;margin:200px auto 0}.container h1{font-size:20px;color:#1890ff;font-weight:500;margin-bottom:20px;text-align:center}.container .form-item{position:relative;margin-bottom:24px}.container .form-item .form-control,.container .form-item input{display:inline-block;background-color:#fff;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;height:40px;line-height:40px;padding:0 10px;width:100%}.container .form-item .form-control.error,.container .form-item input.error{border-color:#f56c6c}.container .form-item .form-error{position:absolute;top:100%;left:0;color:#f56c6c;font-size:12px;padding-top:4px}.container .form-item .btn{width:100%}","",{version:3,sources:["/Users/wuyirong/self/kkfrank.github.io/admin-portal/src/pages/Login/Login.scss"],names:[],mappings:"AAAA,WACE,YACA,mBAAyB,CAF3B,cAKI,eACA,cACA,gBACA,mBACA,iBAAkB,CATtB,sBAaI,kBACA,kBAAmB,CAdvB,gEAkBI,qBACA,sBACA,kBACA,8BAAA,sBACA,cACA,YACA,iBACA,eACA,UAAW,CA1Bf,4EA4BM,oBAAqB,CA5B3B,kCAiCI,kBACA,SACA,OACA,cACA,eACA,eAAgB,CAtCpB,2BA0CI,UAAW,CACZ",file:"Login.scss",sourcesContent:[".container{\n  width: 300px;\n  margin: 200px auto 0 auto;\n\n  h1{\n    font-size: 20px;\n    color: #1890ff;\n    font-weight: 500;\n    margin-bottom: 20px;\n    text-align: center;\n  }\n\n  .form-item{\n    position: relative;\n    margin-bottom: 24px;\n  }\n\n  .form-item .form-control, .form-item input{\n    display: inline-block;\n    background-color: #fff;\n    border-radius: 4px;\n    box-sizing: border-box;\n    color: #606266;\n    height: 40px;\n    line-height: 40px;\n    padding: 0 10px;\n    width: 100%;\n    &.error{\n      border-color: #f56c6c;\n    }\n  }\n\n  .form-item .form-error{\n    position: absolute;\n    top: 100%;\n    left: 0;\n    color: #f56c6c;\n    font-size: 12px;\n    padding-top: 4px;\n  }\n\n  .form-item .btn{\n    width: 100%;\n  }\n}"],sourceRoot:""}])}});
//# sourceMappingURL=7.532ceb6d.js.map